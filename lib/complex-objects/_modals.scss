@if $use-modals == true {
  // ============================================================
  //
  //   $MODALS
  //
  //   The .modal class is a complex object class that classfies an
  //   element as an modal on all NewSpring Sites
  //
  //   @note
  //     to call a modal use `data-modal-open="ModalName"` on an element
  //
  //     to close a modal use `data-modal-close="ModalName"` on
  //     an element within the modal
  //
  //   Used in markup:
  //   <div class="modal" data-modal="ModalName">
  //     CONTENT GOES HERE
  //   </div>
  //
  //
  // ============================================================
  .modal {
    @include vendor(transition, opacity .2s ease-in-out .2s);

    z-index: map-get($zindex, "modal");

    overflow: hidden;

    width: 0;
    max-width: 0;
    height: 0;
    max-height: 0;
    margin: 0;
    padding: 0;

    opacity: 0;
    background-color: rgba(#fff, .96);

    &.modal--dark {
      background-color: rgba(#000, .96);
    }

    &:not(.modal--active) {
      * {
        height: 0;
        max-height: 0;
        margin: 0;
        padding-top: 0;
        padding-bottom: 0;

        transition: max-width .2s, max-height .2s, visibility .2s, margin .2s, opacity .2s;

        opacity: 0;
      }
    }
  }

  .modal--active {
    @include fixed(top 0 right 0 left 0 bottom 0);
    @include vendor(transition, opacity .3s ease-in-out 0s);

    overflow: auto;
    -webkit-overflow-scrolling: touch;

    width: 100%;
    max-width: none;
    height: 100%;
    max-height: none;

    opacity: 1;
  }

  html.modal--opened {
    overflow: hidden;
    body {
      overflow: hidden;

      height: 100%;
      min-height: 100%;
      margin: 0;
      padding: 0;
    }
  }
}
